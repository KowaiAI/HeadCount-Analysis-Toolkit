```
 â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚
 â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚
 â”‚ â”‚ â–ˆâ–ˆ  â–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆ â–ˆâ–ˆ   â–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚ â”‚
 â”‚ â”‚ â–ˆâ–ˆ  â–ˆâ–ˆ â–ˆâ–ˆ      â–ˆâ–ˆ   â–ˆâ–ˆ â–ˆâ–ˆ  â–ˆâ–ˆ â–ˆâ–ˆ     â–ˆâ–ˆ   â–ˆâ–ˆ â–ˆâ–ˆ  â–ˆâ–ˆ â–ˆâ–ˆâ–ˆ  â–ˆâ–ˆ    â–ˆâ–ˆ   â”‚ â”‚
 â”‚ â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆ  â–ˆâ–ˆ â–ˆâ–ˆ     â–ˆâ–ˆ   â–ˆâ–ˆ â–ˆâ–ˆ  â–ˆâ–ˆ â–ˆâ–ˆ â–ˆ â–ˆâ–ˆ    â–ˆâ–ˆ   â”‚ â”‚
 â”‚ â”‚ â–ˆâ–ˆ  â–ˆâ–ˆ â–ˆâ–ˆ      â–ˆâ–ˆ   â–ˆâ–ˆ â–ˆâ–ˆ  â–ˆâ–ˆ â–ˆâ–ˆ     â–ˆâ–ˆ   â–ˆâ–ˆ â–ˆâ–ˆ  â–ˆâ–ˆ â–ˆâ–ˆ  â–ˆâ–ˆâ–ˆ    â–ˆâ–ˆ   â”‚ â”‚
 â”‚ â”‚ â–ˆâ–ˆ  â–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆ   â–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆ   â–ˆâ–ˆ    â–ˆâ–ˆ   â”‚ â”‚
 â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚
 â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚
```  
```

### *When they won't publish the data, count it yourself.*

![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg)
![MIT License](https://img.shields.io/badge/license-MIT-green.svg)
![Linux](https://img.shields.io/badge/platform-linux-lightgrey.svg)
![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)

---

## ğŸ’¡ What is HeadCount?

**HeadCount** is a toolkit for scraping public image databases and rapidly sorting them by category â€” built for investigating demographic disparities in public records.

| Feature | Description |
|---------|-------------|
| ğŸ” **Scrape** | Pull images from JavaScript-rendered public databases |
| âŒ¨ï¸ **Sort** | Keyboard-driven categorization (~1 sec per image) |
| ğŸ“Š **Count** | Aggregate results automatically |
| ğŸ”„ **Resume** | Pick up where you left off |

---

## ğŸ”¥ The DC Investigation

> **DC is one of only 4 U.S. jurisdictions that refuses to publish racial data for its sex offender registry.**
>
> So we scraped 1,066 mugshots and counted ourselves.

### What We Found

| Race | DC Registry | National Avg |
|:-----|:-----------:|:------------:|
| Black | **87.6%** | 27% |
| White | **7.1%** | 72% |
| Hispanic | 4.3% | â€” |
| Asian | 0.4% | â€” |

### The Disparity

```
DC Registry:      â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  7% white

National Avg:     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 72% white
```

**10x less white than the national average.**

---

## âš¡ Quick Start

```bash
# Clone
git clone https://github.com/KowaiAI/headcount.git && cd headcount

# Install
pip install selenium webdriver-manager requests pillow --break-system-packages
sudo apt install python3-tk python3-pil.imagetk

# Scrape
python3 scrapers/dc_registry.py

# Sort
python3 headcount.py

# Count
cd dc_photos_sorted && for dir in */; do echo "$dir $(ls "$dir" | wc -l)"; done
```

---

## ğŸ“¦ Installation

### Debian / Ubuntu

```bash
pip install selenium webdriver-manager requests pillow --break-system-packages
sudo apt install python3-tk python3-pil.imagetk chromium-browser
```

### Arch Linux

```bash
pip install selenium webdriver-manager requests pillow --break-system-packages
sudo pacman -S tk python-pillow chromium
```

### macOS

```bash
brew install python-tk
pip3 install selenium webdriver-manager requests pillow
```

---

## ğŸ® Usage

### Sorting Images

```bash
python3 headcount.py
```

**Keyboard controls:**

| Key | Action |
|:---:|--------|
| `B` | Black |
| `W` | White |
| `H` | Hispanic |
| `A` | Asian |
| `O` | Other |
| `S` | Skip |
| `Q` | Quit |

> **One keypress. No enter. No mouse. Fast.**

### Counting Results

```bash
cd dc_photos_sorted
for dir in */; do echo "$dir $(ls "$dir" | wc -l)"; done
```

Output:
```
black/     934
white/     76
hispanic/  46
asian/     4
other/     6
skip/      0
```

### Terminal Mode (No GUI)

```bash
python3 headcount_terminal.py
```

Opens images in your default viewer. Type + Enter.

---

## ğŸ—‚ï¸ Repo Structure

```
headcount/
â”œâ”€â”€ README.md
â”œâ”€â”€ LICENSE
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ .gitignore
â”œâ”€â”€ headcount.py            # GUI sorting tool
â”œâ”€â”€ headcount_terminal.py   # Terminal sorting tool
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ investigation.md    # DC investigation writeup
â””â”€â”€ scrapers/
    â”œâ”€â”€ dc_registry.py      # DC sex offender registry scraper
    â””â”€â”€ template.py         # Template for new scrapers
```

After running the scraper and sorter, you'll have locally:
```
dc_photos/                  # Raw scraped images (gitignored)
dc_photos_sorted/           # Sorted output (gitignored)
â”œâ”€â”€ black/
â”œâ”€â”€ white/
â”œâ”€â”€ hispanic/
â”œâ”€â”€ asian/
â”œâ”€â”€ other/
â””â”€â”€ skip/
```

---

## ğŸ”¬ Methodology

For **defensible research**:

| Step | Why |
|------|-----|
| ğŸ“ Document source | URL, date, limitations |
| ğŸ‘¤ Single rater | Consistency across all images |
| ğŸ‘¥ Second rater | Independent verification (10-20% sample) |
| ğŸ“Š Calculate agreement | Should be >90% |
| âš ï¸ Acknowledge limits | Visual assessment â‰  self-identification |

---

## ğŸ› ï¸ Adapting for Other Databases

HeadCount works on any image collection. See `scrapers/template.py` for a starting point.

**Potential applications:**
- Mugshot databases
- Public employee directories  
- Housing listings
- Any public image dataset

---

## âš–ï¸ Legal

**DO:**
- âœ… Use on public databases
- âœ… Aggregate statistical analysis
- âœ… Journalism & research

**DON'T:**
- âŒ Harass or contact individuals
- âŒ Access non-public databases
- âŒ Anything illegal

---

## ğŸ¤ Contributing

PRs welcome for:

- [ ] New scrapers for public databases
- [ ] Windows / Mac support improvements
- [ ] Analysis & visualization tools
- [ ] Documentation & examples

---

## ğŸ“œ License

**MIT** â€” free to use, modify, and distribute.

---

**HeadCount** Â· *When they won't publish the data, count it yourself.*
